<div
  class="title-container"
  [class.board-title]="hostObject == fireService.currentBoard"
  #titleContainer
>
  <input
    type="text"
    [ngStyle]="{
      cursor: isEditingTitle ? 'text' : '',
      width: hostObject == fireService.currentBoard ? spanWidth + 30 + 'px' : ''
    }"
    [(ngModel)]="title"
    class="edit-title-input"
    [readonly]="!isEditingTitle && !dragService.isDragging"
    (click)="noDefault($event)"
    (keydown)="checkWidth()"
    (keyup)="checkKey(hostObject.id, $event)"
    placeholder="New Titel"
    #titleInput
  />

  <div
    class="menu-container"
    *ngIf="!isEditingTitle"
    (click)="toggleMenu($event)"
    [style.zIndex]="hostObject == fireService.currentBoard ? 2 : 1"
    #menu
  >
    <div class="more-container">
      <img class="menu-img" src="assets/img/more.svg" alt="menu" />
    </div>
    <div
      class="edit-menu menu"
      [class.left]="left"
      [class.top]="top"
      *ngIf="menuIsOpen"
    >
      <div class="edit-menu-item menu" (click)="edit($event)">
        <div class="menu-icon-container menu">
          <img src="assets/img/edit.svg" alt="edit title" class="menu" />
        </div>
        <span class="edit-menu-text menu">Edit title</span>
      </div>
      <div
        *ngIf="collection == 'columns'"
        class="edit-menu-item menu"
        (click)="addNewTicket()"
      >
        <div class="menu-icon-container menu">
          <img src="assets/img/add.svg" alt="add ticket" class="menu" />
        </div>
        <span class="edit-menu-text menu">Add ticket</span>
      </div>
      <div
        *ngIf="collection == 'columns'"
        class="edit-menu-item menu"
        (click)="toggleMoveColumnMenu($event)"
        id="move-column"
      >
        <div class="menu-icon-container menu" id="move-column-icon-container">
          <img
            src="assets/img/arrow-right-left.svg"
            alt="move column"
            class="menu"
            id="move-column-icon"
          />
        </div>
        <span class="edit-menu-text menu" id="move-column-span"
          >Move column to position...</span
        >
        <div *ngIf="showMoveColumnMenu" class="submenu">
          <div
            *ngFor="let column of fireService.columns; let i = index"
            (click)="moveColumn(i)"
            [id]="i == index ? 'current-column' : ''"
            [style.color]="
              i == index ? 'rgba(var(--letter-color-dark), 0.5)' : ''
            "
            [class.submenu-hover]="i != index"
          >
            {{ i }}
          </div>
        </div>
      </div>
      <div
        *ngIf="collection == 'boards'"
        class="edit-menu-item menu"
        (click)="setBackgroundImage()"
      >
        <div class="menu-icon-container menu">
          <img src="assets/img/image.svg" alt="Background image" class="menu" />
        </div>
        <span class="edit-menu-text menu">Background image</span>
      </div>
      <div
        *ngIf="hostObject == fireService.currentBoard"
        class="edit-menu-item menu"
        (click)="fireService.addColumn()"
      >
        <div class="menu-icon-container menu">
          <img src="assets/img/add.svg" alt="add column" class="menu" />
        </div>
        <span class="edit-menu-text menu">Add column</span>
      </div>
      <div
        *ngIf="hostObject == fireService.currentBoard"
        class="edit-menu-item menu"
        (click)="showCategoryModal()"
      >
        <div class="menu-icon-container menu">
          <img src="assets/img/folder.svg" alt="add category" class="menu" />
        </div>
        <span class="edit-menu-text menu">Edit categories</span>
      </div>
      <div class="edit-menu-item menu" (click)="delete($event, hostObject.id)">
        <div class="menu-icon-container menu">
          <img src="assets/img/delete.svg" alt="delete column" class="menu" />
        </div>
        <span class="edit-menu-text menu">Delete</span>
      </div>
    </div>
  </div>
  <div class="menu-container" *ngIf="isEditingTitle">
    <div class="more-container" (click)="saveTitle($event, hostObject.id)">
      <img
        class=""
        src="assets/img/done.svg"
        alt="save new title"
        id="save-title"
      />
    </div>
  </div>
  <span class="hidden-span" #hiddenSpan id="hiddenSpan">
    {{ title || 'Add a title'}}
  </span>
</div>
